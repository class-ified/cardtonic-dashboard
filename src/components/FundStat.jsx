import { useEffect, useState } from "react";

const FundStat = ({ trades, withdrawals }) => {
	// const [pending, setPending] = useState(0);
	// const [approved, setApproved] = useState(0);
	// const [rejected, setRejected] = useState(0);
	// console.log(withdrawals);

	let stat = {
		pending: 0,
		rejected: 0,
		approved: 0,
	};
	// compute trade statistics
	function getTradeStat() {
		if (trades) {
			trades?.forEach((trade) => {
				switch (trade.meta.status) {
					case "pending":
						stat.pending++;
						break;
					case "approved":
						stat.approved++;
						break;
					case "rejected":
						stat.rejected++;
						break;
					default:
						return null;
				}
			});
		} else if (withdrawals) {
			withdrawals?.forEach((withdrawal) => {
				switch (withdrawal.status) {
					case "pending":
						stat.pending++;
						break;
					case "approved":
						stat.approved++;
						break;
					case "rejected":
						stat.rejected++;
						break;
					default:
						return null;
				}
			});
		}
		console.log(stat);
		return stat;
	}
	getTradeStat();

	return (
		<div className="fundstat-box">
			<div className="card">
				<div className="left">
					<div className="icon">
						{/* prettier-ignore */}
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.6538 13.4983H18.5593V10.1238H15.1847V8.43652H11.8102V10.2082C9.8867 10.6013 8.43563 12.3037 8.43563 14.342C8.43563 16.667 10.3271 18.5601 12.6538 18.5601H14.341C14.805 18.5601 15.1847 18.9381 15.1847 19.4038C15.1847 19.8695 14.805 20.2474 14.341 20.2474H8.43555V23.622H11.8101V25.3092H15.1847V23.5376C17.1082 23.1462 18.5593 21.442 18.5593 19.4038C18.5593 17.0788 16.6679 15.1856 14.3412 15.1856H12.6538C12.1898 15.1856 11.8102 14.8077 11.8102 14.342C11.8102 13.8763 12.1898 13.4983 12.6538 13.4983Z" fill="#2BC155"/>
                            <path d="M26.9962 25.309V1.68734C26.9962 1.10183 26.6925 0.560219 26.1948 0.253189C25.6971 -0.0555809 25.0762 -0.0825508 24.5531 0.177262L18.6814 3.11651L14.4346 0.283481C13.8677 -0.0944935 13.1303 -0.0944935 12.5634 0.283481L8.31488 3.11643L2.44319 0.177183C1.92016 -0.08263 1.29922 -0.0556601 0.801504 0.25311C0.303708 0.560219 0 1.10183 0 1.68734V32.0581C0 32.6436 0.303708 33.1853 0.801425 33.4957C1.07136 33.6611 1.37847 33.7454 1.68724 33.7454C1.94373 33.7454 2.2052 33.6863 2.44145 33.5666L8.31314 30.6307L12.5616 33.4619C13.1286 33.8399 13.8659 33.8399 14.4329 33.4619L18.6797 30.6307L21.9344 32.2589V28.4845L19.3141 27.1735C18.7708 26.9036 18.1246 26.9441 17.6234 27.2798L13.4981 30.03L9.37271 27.2798C9.09091 27.0925 8.76364 26.9963 8.43628 26.9963C8.17979 26.9963 7.91831 27.0554 7.68207 27.1735L3.37448 29.3282V4.41897L7.68207 6.56857C8.22202 6.84025 8.86819 6.79976 9.37271 6.46394L13.4981 3.71538L17.6234 6.4656C18.1262 6.80134 18.7741 6.84183 19.3141 6.57024L23.6217 4.41897V25.309H26.9962Z" fill="#2BC155"/>
                            <path d="M37.6144 27.4922L30.3709 34.7339L26.5021 30.8667L24.1162 33.2525L30.3709 39.5055L40.0001 29.878L37.6144 27.4922Z" fill="#2BC155"/>
                        </svg>
					</div>
					<h3
						className="text-xs text-regular"
						style={{ color: "#BFBFBF" }}
					>
						Successful
					</h3>
				</div>

				<div className="right">
					<h1 className="text-blue text-vbold text-kindabigger">
						{stat.approved}
					</h1>
				</div>
			</div>

			<div className="card">
				<div className="left">
					<div className="icon">
						{/* prettier-ignore */}
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.0348 24.9996V23.2496C16.9364 22.863 18.3682 21.1796 18.3682 19.1663C18.3682 16.8696 16.4998 14.9996 14.2015 14.9996H12.5349C12.0765 14.9996 11.7015 14.6263 11.7015 14.1663C11.7015 13.7063 12.0765 13.3329 12.5349 13.3329H18.3682V9.99965H15.0349V8.33301H11.7015V10.083C9.80316 10.4696 8.36816 12.153 8.36816 14.1664C8.36816 16.463 10.2382 18.333 12.5348 18.333H14.2014C14.6614 18.333 15.0348 18.7064 15.0348 19.1664C15.0348 19.6264 14.6614 19.9996 14.2014 19.9996H8.36816V23.333H11.7015V24.9996H15.0348Z" fill="#EE4444"/>
                            <path d="M8.33336 26.6667C8.08 26.6667 7.82172 26.725 7.58836 26.8417L3.33336 28.97V4.36502L7.58836 6.48838C8.12172 6.75674 8.76 6.71674 9.25836 6.38502L13.3334 3.67002L17.4084 6.38666C17.9067 6.7183 18.545 6.7583 19.0784 6.49002L23.3334 4.36502V10H26.6667V1.66666C26.6667 1.0883 26.3667 0.553301 25.8751 0.250019C25.3834 -0.0549805 24.7701 -0.0816211 24.2534 0.17502L18.4534 3.07838L14.2584 0.28002C13.6984 -0.0933398 12.97 -0.0933398 12.41 0.28002L8.21336 3.07838L2.41336 0.17502C1.89664 -0.0816211 1.28336 -0.0549805 0.791641 0.250019C0.3 0.553379 0 1.08838 0 1.66666V31.6667C0 32.245 0.3 32.78 0.791641 33.0867C1.05828 33.25 1.36164 33.3333 1.66664 33.3333C1.92 33.3333 2.17828 33.2749 2.41164 33.1567L8.21164 30.2567L10.035 31.4717V27.465L9.25664 26.945C8.98 26.7617 8.65664 26.6667 8.33336 26.6667Z" fill="#EE4444"/>
                            <path d="M28.3675 25H25.0342V30H28.3675V25Z" fill="#EE4444"/>
                            <path d="M26.7008 35.0003C27.6213 35.0003 28.3675 34.2541 28.3675 33.3336C28.3675 32.4132 27.6213 31.667 26.7008 31.667C25.7804 31.667 25.0342 32.4132 25.0342 33.3336C25.0342 34.2541 25.7804 35.0003 26.7008 35.0003Z" fill="#EE4444"/>
                            <path d="M39.8023 37.5432L28.1357 15.8764C27.5523 14.7964 25.7823 14.7964 25.199 15.8764L13.5323 37.5432C13.2557 38.0598 13.2689 38.6832 13.5689 39.1865C13.8689 39.6899 14.4139 39.9999 15.0006 39.9999H38.334C38.9206 39.9999 39.464 39.6915 39.764 39.1883C40.064 38.6848 40.079 38.0598 39.8023 37.5432ZM17.7907 36.6665L26.6673 20.1831L35.544 36.6665H17.7907Z" fill="#EE4444"/>
                        </svg>
					</div>

					<h3
						className="text-xs text-regular"
						style={{ color: "#BFBFBF" }}
					>
						Failed
					</h3>
				</div>

				<div className="right">
					<h1 className="text-blue text-vbold text-kindabigger">
						{stat.rejected}
					</h1>
				</div>
			</div>

			<div className="card">
				<div className="left">
					<div className="icon">
						{/* prettier-ignore */}
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.3331 19.1673C18.3331 16.8706 16.4647 15.0006 14.1664 15.0006H12.4997C12.0414 15.0006 11.6664 14.6273 11.6664 14.1673C11.6664 13.7073 12.0414 13.3339 12.4997 13.3339H18.3331V10.0006H14.9997V8.33398H11.6664V10.084C9.76801 10.4723 8.33301 12.154 8.33301 14.1673C8.33301 16.464 10.203 18.334 12.4996 18.334H14.1663C14.6263 18.334 14.9996 18.7073 14.9996 19.1673C14.9996 19.6273 14.6264 20.0006 14.1664 20.0006H8.33301V23.334H11.6664V25.0006H14.9997V23.2506C16.9014 22.8623 18.3331 21.1806 18.3331 19.1673Z" fill="#9BABC5"/>
                            <path d="M8.33336 26.6667C8.08 26.6667 7.82336 26.725 7.58836 26.8417L3.33336 28.97V4.36502L7.58836 6.48838C8.12172 6.75674 8.76 6.71674 9.25836 6.38502L13.3334 3.67002L17.4084 6.38666C17.9067 6.7183 18.545 6.7583 19.0784 6.49002L23.3334 4.36502V13.3334H26.6667V1.66666C26.6667 1.0883 26.3667 0.553301 25.8767 0.25002C25.3851 -0.0549805 24.7717 -0.0816211 24.2534 0.17502L18.4534 3.07838L14.2584 0.28002C13.6984 -0.0933398 12.97 -0.0933398 12.41 0.28002L8.215 3.07838L2.41164 0.17502C1.89836 -0.0816211 1.28336 -0.0549805 0.791641 0.25002C0.3 0.553379 0 1.08838 0 1.66666V31.6667C0 32.245 0.3 32.78 0.791641 33.0867C1.05828 33.25 1.36328 33.3333 1.66664 33.3333C1.92164 33.3333 2.17828 33.2749 2.41164 33.1567L8.21328 30.2567L12.4083 33.0533C12.6883 33.2399 13.0116 33.3333 13.3333 33.3333V29.6649L9.25828 26.9483C8.98164 26.7617 8.65836 26.6667 8.33336 26.6667Z" fill="#9BABC5"/>
                            <path d="M28.3336 16.667C21.902 16.667 16.667 21.9004 16.667 28.3336C16.667 34.7669 21.9019 40.0004 28.3336 40.0004C34.7669 40.0004 40.0003 34.767 40.0003 28.3337C40.0003 21.9004 34.7669 16.667 28.3336 16.667ZM28.3336 36.667C23.7403 36.667 20.0003 32.9287 20.0003 28.3337C20.0003 23.7387 23.7403 20.0004 28.3336 20.0004C32.9303 20.0004 36.667 23.7387 36.667 28.3337C36.6669 32.9287 32.9303 36.667 28.3336 36.667Z" fill="#9BABC5"/>
                            <path d="M30.0004 21.667H26.667V30.0004H33.3337V26.667H30.0004V21.667Z" fill="#9BABC5"/>
                        </svg>
					</div>
					<h3
						className="text-xs text-regular"
						style={{ color: "#BFBFBF" }}
					>
						Pending
					</h3>
				</div>

				<div className="right">
					<h1 className="text-blue text-vbold text-kindabigger">
						{stat.pending}
					</h1>
				</div>
			</div>
		</div>
	);
};

export default FundStat;
